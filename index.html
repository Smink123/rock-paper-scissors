<html>
    <body>
        <script>
  /*
            function getComputerChoice() {
                let randomNum = Math.random();
                if (randomNum >= 0 && randomNum < 0.33) {
                    return 'Rock';
                } else if (randomNum >= 0.33 && randomNum < 0.66) {
                    return 'Paper';
                } else {
                    return 'Scissors';
                }
            }
*/

/* Use Math.random() function to get the random number between(0-1, 1 exclusive).
Multiply it by the array length to get the numbers between(0-arrayLength).
Use Math.floor() to get the index ranging from(0 to arrayLength-1). */


            function getComputerChoice() {
                let choices = ['rock', 'paper', 'scissors'];
                let computerChoice = choices.at(Math.floor(Math.random() * choices.length));
                return computerChoice;
            }

            function getPlayerChoice() {
                let playerAsk = prompt('Write rock, paper or scissors:');
                let result = playerAsk.toLowerCase();
                if (result === 'rock' || result === 'paper' || result === 'scissors') {
                    return result;
                } else {
                    alert('Error in choice. Choose rock, paper, or scissors.');
                    return getPlayerChoice();
                }
            }

            let playerScore = 0;
            let compScore = 0;

            function playRound(playerSelection, computerSelection) {
                if (playerSelection === 'rock' && computerSelection === 'scissors') {
                    playerScore++;
                    alert(`Wow, you won! You have ${playerScore} points, and the computer has ${compScore} points.`);
                } else if (playerSelection === 'paper' && computerSelection === 'rock') {
                    playerScore++;
                    alert(`Wow, you won! You have ${playerScore} points, and the computer has ${compScore} points.`);
                } else if (playerSelection === 'scissors' && computerSelection === 'paper') {
                    playerScore++;
                    alert(`Wow, you won! You have ${playerScore} points, and the computer has ${compScore} points.`);
                } else if (playerSelection === computerSelection) {
                    playerScore++;
                    compScore++;
                    alert(`It's a draw! You have ${playerScore} points, and the computer has ${compScore} points.`);
                } else if (playerSelection === 'scissors' && computerSelection === 'rock') {
                    compScore++;
                    alert(`You loose! You have ${playerScore} points, and the computer has ${compScore} points.`);
                } else if (playerSelection === 'rock' && computerSelection === 'paper') {  
                    compScore++;                  
                    alert(`You loose! You have ${playerScore} points, and the computer has ${compScore} points.`);
                } else if (playerSelection === 'paper' && computerSelection === 'scissors') {
                    compScore++;
                    alert(`You loose! You have ${playerScore} points, and the computer has ${compScore} points.`);
                }
            }

            function game() {
                const playerSelection = getPlayerChoice();
                const computerSelection = getComputerChoice();
                console.log(playRound(playerSelection, computerSelection));
            }    
            
            function final() {
                if (playerScore >= 3) {
                    alert(`The final score is ${playerScore} to you, ${compScore} to the computer. You win the game!`)
                } else if (compScore >= 3) {
                    alert(`The final score is ${playerScore} to you, ${compScore} to the computer. The computer wins the game!`)
                } else if (playerScore === compScore) {
                    alert(`The final score is ${playerScore} to you, ${compScore} to the computer. It's a draw!`)
                }
            }

            alert("Let's play a game of rock, paper, scissors. Best out of 5...let's go!");
            game();
            game();
            game();
            game();
            game(); 
            final();