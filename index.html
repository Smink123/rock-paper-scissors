<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Rock, paper, scissors!</h1>
    <p>Time to play: The game consts of 5 rounds. Who will win? Let's play!</p>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
    <p>Your current score: </p>
    <p>Computers current score:</p>
    <p>Result</p>
    <script>


        function getComputerChoice() {
                let choices = ['rock', 'paper', 'scissors'];
                let computerChoice = choices.at(Math.floor(Math.random() * choices.length));
                return computerChoice;
            }

            function getPlayerChoice() {
                let playerAsk = prompt('Write rock, paper or scissors:');
                let result = playerAsk.toLowerCase();
                if (result === 'rock' || result === 'paper' || result === 'scissors') {
                    return result;
                } else {
                    alert('Error in choice. Choose rock, paper, or scissors.');
                    return getPlayerChoice();
                }
            }

            let playerScore = 0;
            let compScore = 0;

            function playRound(playerSelection, computerSelection) {
                if (
                    (playerSelection === 'rock' && computerSelection === 'scissors') ||
                    (playerSelection === 'paper' && computerSelection === 'rock') ||
                    (playerSelection === 'scissors' && computerSelection === 'paper')) {
                        playerScore++;
                        alert(`Wow, you won! You have ${playerScore} points, and the computer has ${compScore} points.`);
                } else if (playerSelection === computerSelection) {
                    playerScore++;
                    compScore++;
                    alert(`It's a draw! You have ${playerScore} points, and the computer has ${compScore} points.`);
                } else {
                    compScore++;
                    alert(`You lost! You have ${playerScore} points, and the computer has ${compScore} points.`);
                }
            }

            function game() {
                const playerSelection = getPlayerChoice();
                const computerSelection = getComputerChoice();
                console.log(playRound(playerSelection, computerSelection));
            }    
            
            function final() {
                if (playerScore > compScore) {
                    alert(`The final score is ${playerScore} to you, ${compScore} to the computer. You win the game!`)
                } else if (compScore > playerScore) {
                    alert(`The final score is ${playerScore} to you, ${compScore} to the computer. The computer wins the game!`)
                } else if (playerScore === compScore) {
                    alert(`The final score is ${playerScore} to you, ${compScore} to the computer. It's a draw!`)
                }
            }

            const rockButton = document.getElementById('rock')
            const paperButton = document.getElementById('paper')
            const scissorsButton = document.getElementsById('scissors')

            rockButton.addEventListener('click', function() {
                playRound('rock', computerSelection())
            })
             
            paperButton.addEventListener('click', function() {
                playRound('paper', computerSelection())
            })
            
            scissorsButton.addEventListener('click', function() {
                playRound('scissors', computerSelection())
            })
/*
            alert("Let's play a game of rock, paper, scissors. Best out of 5...let's go!");
            game();
            game();
            game();
            game();
            game(); 
            final(); */
    </script>
</body>
</html>


